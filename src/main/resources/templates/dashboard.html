<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dashboard - Ecotrack</title>
    <!-- Bootstrap CSS for styling and responsiveness -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Bootstrap Icons for icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        /* Make cards square and centered */
        .card-square {
            aspect-ratio: 1 / 1; /* Square shape */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: transform 0.2s; /* Hover effect */
        }
        .card-square:hover {
            transform: scale(1.05); /* Slight zoom on hover */
        }
        .card-icon {
            font-size: 3rem; /* Large icon size */
            margin-bottom: 1rem;
        }
        /* Ensure full responsiveness */
        body { background-color: #f8f9fa; } /* Light background */
    </style>
</head>
<body>
    <!-- Navbar at the top -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/dashboard">Ecotrack</a> <!-- Link back to dashboard -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto"> <!-- Align to right -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-person-circle"></i> <!-- Profile icon -->
                            <span th:text="${usuarioNombre ?: 'Usuario'}">Usuario</span> <!-- Displays username from model; replace with actual if needed -->
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                            <!-- CHANGE HERE: Replace with your actual profile edit endpoint -->
                            <li><a class="dropdown-item" th:href="@{/perfil/editar}">Editar Perfil</a></li> <!-- e.g., /perfil/editar or your path -->
                            <li><hr class="dropdown-divider"></li>
                            <li>
                            <form th:action="@{/logout}" method="post">
						        <button type="submit" class="dropdown-item">Cerrar Sesión</button>
						    </form>
                            </li> <!-- Assuming a logout endpoint -->
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard Content -->
    <div class="container my-5"> <!-- Container for responsiveness -->
        <h2 class="text-center mb-4">Bienvenido a Ecotrack</h2>
        <div class="row g-4 justify-content-center"> <!-- Bootstrap grid: 4 columns on lg, 2 on md, 1 on sm -->
            
            <!-- Card 1: Registrar Recoleccion -->
            <div class="col-12 col-md-6 col-lg-3">
                <a th:href="@{/recolecciones}" class="text-decoration-none"> <!-- CHANGE HERE: Replace with your actual endpoint for registering a collection (e.g., /recolecciones/registrar) -->
                    <div class="card card-square bg-primary text-white">
                        <div class="card-body">
                            <i class="bi bi-truck card-icon"></i> <!-- Icon example; change as needed -->
                            <h5 class="card-title">Registrar Recolección</h5>
                            <p class="card-text">Registra una nueva recolección de residuos.</p>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Card 2: Medallas -->
            <div class="col-12 col-md-6 col-lg-3">
                <a th:href="@{/medallas}" class="text-decoration-none"> <!-- CHANGE HERE: Replace with your actual endpoint for medals/badges (e.g., /medallas or /usuario/medallas) -->
                    <div class="card card-square bg-success text-white">
                        <div class="card-body">
                            <i class="bi bi-award card-icon"></i> <!-- Icon example -->
                            <h5 class="card-title">Medallas</h5>
                            <p class="card-text">Ver tus medallas y logros.</p>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Card 3: Ranking -->
            <div class="col-12 col-md-6 col-lg-3">
                <a th:href="@{/ranking}" class="text-decoration-none"> <!-- CHANGE HERE: Replace with your actual endpoint for ranking/leaderboard (e.g., /ranking or /usuarios/ranking) -->
                    <div class="card card-square bg-info text-white">
                        <div class="card-body">
                            <i class="bi bi-trophy card-icon"></i> <!-- Icon example -->
                            <h5 class="card-title">Ranking</h5>
                            <p class="card-text">Consulta el ranking de usuarios.</p>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Card 4: Puntos Verdes -->
            <div class="col-12 col-md-6 col-lg-3">
                <a th:href="@{/api/puntos-verdes/lista}" class="text-decoration-none"> <!-- CHANGE HERE: Based on your previous code, this could be /puntos-verdes/lista or /mapa-todos -->
                    <div class="card card-square bg-warning text-dark">
                        <div class="card-body">
                            <i class="bi bi-tree card-icon"></i> <!-- Icon example -->
                            <h5 class="card-title">Puntos Verdes</h5>
                            <p class="card-text">Gestiona los puntos verdes.</p>
                        </div>
                    </div>
                </a>
            </div>
            
        </div>
    </div>

    <!-- Bootstrap JS for interactive components like dropdown -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>